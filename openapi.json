{
  "openapi": "3.0.4",
  "info": {
    "title": "Cazuela Chapina API",
    "version": "v1"
  },
  "paths": {
    "/api/ai/insights": {
      "get": {
        "tags": [" GENESIS IA "],
        "summary": "An√°lisis inteligente de ventas estacionales con DeepSeek R1",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/bodegas": {
      "post": {
        "tags": ["Bodegas"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBodegaCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": ["Bodegas"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/bodegas/{id}": {
      "get": {
        "tags": ["Bodegas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": ["Bodegas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBodegaCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": ["Bodegas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/categorias": {
      "post": {
        "tags": ["Categorias"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCategoriaCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": ["Categorias"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/categorias/{id}": {
      "get": {
        "tags": ["Categorias"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": ["Categorias"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCategoriaCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": ["Categorias"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/clientes": {
      "post": {
        "tags": ["Clientes"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateClienteCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": ["Clientes"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/clientes/{id}": {
      "get": {
        "tags": ["Clientes"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": ["Clientes"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateClienteCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": ["Clientes"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/combos": {
      "post": {
        "tags": ["Combos"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateComboCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": ["Combos"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/combos/{id}": {
      "get": {
        "tags": ["Combos"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": ["Combos"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": ["Combos"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateComboCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/dashboard": {
      "get": {
        "tags": ["Dashboard"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/productos": {
      "post": {
        "tags": ["Productos"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductoCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": ["Productos"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/productos/{id}": {
      "get": {
        "tags": ["Productos"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": ["Productos"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductoCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": ["Productos"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/recetas": {
      "post": {
        "tags": ["Recetas"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRecetaCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": ["Recetas"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/recetas/{id}": {
      "get": {
        "tags": ["Recetas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": ["Recetas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRecetaCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": ["Recetas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ventas": {
      "post": {
        "tags": ["Ventas"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVentaCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "get": {
        "tags": ["Ventas"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ventas/{id}": {
      "get": {
        "tags": ["Ventas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "put": {
        "tags": ["Ventas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateVentaCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": ["Ventas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/ventas/{id}/confirmar": {
      "put": {
        "tags": ["Ventas"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ComboProductoDto": {
        "type": "object",
        "properties": {
          "productoId": {
            "type": "string",
            "format": "uuid"
          },
          "cantidadPorCombo": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CreateBodegaCommand": {
        "type": "object",
        "properties": {
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          },
          "bodegaPadreId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateCategoriaCommand": {
        "type": "object",
        "properties": {
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateClienteCommand": {
        "type": "object",
        "properties": {
          "clienteCodigo": {
            "type": "string",
            "nullable": true
          },
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "telefono": {
            "type": "string",
            "nullable": true
          },
          "correo": {
            "type": "string",
            "nullable": true
          },
          "nit": {
            "type": "string",
            "nullable": true
          },
          "direccion": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateComboCommand": {
        "type": "object",
        "properties": {
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          },
          "precioTotal": {
            "type": "number",
            "format": "double"
          },
          "productos": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateComboProductoDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateComboProductoDto": {
        "type": "object",
        "properties": {
          "productoId": {
            "type": "string",
            "format": "uuid"
          },
          "cantidad": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CreateProductoCommand": {
        "type": "object",
        "properties": {
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "categoriaId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "bodegaId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "precioPublico": {
            "type": "number",
            "format": "double"
          },
          "costoUnitario": {
            "type": "number",
            "format": "double"
          },
          "unidadMedida": {
            "type": "string",
            "nullable": true
          },
          "sePuedeVender": {
            "type": "boolean"
          },
          "sePuedeComprar": {
            "type": "boolean"
          },
          "esFabricado": {
            "type": "boolean"
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          },
          "atributos": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "nullable": true
          },
          "cantidadDisponible": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "CreateRecetaCommand": {
        "required": ["nombre", "productoId"],
        "type": "object",
        "properties": {
          "nombre": {
            "minLength": 1,
            "type": "string"
          },
          "productoId": {
            "type": "string",
            "format": "uuid"
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          },
          "detalles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateRecetaDetalleDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateRecetaDetalleDto": {
        "type": "object",
        "properties": {
          "productoIngredienteId": {
            "type": "string",
            "format": "uuid"
          },
          "cantidadRequerida": {
            "type": "number",
            "format": "double"
          },
          "unidadMedida": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateVentaCommand": {
        "type": "object",
        "properties": {
          "clienteId": {
            "type": "string",
            "format": "uuid"
          },
          "metodoPago": {
            "type": "string",
            "nullable": true
          },
          "notas": {
            "type": "string",
            "nullable": true
          },
          "detalles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateVentaDetalleDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateVentaDetalleDto": {
        "type": "object",
        "properties": {
          "productoId": {
            "type": "string",
            "format": "uuid"
          },
          "cantidad": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "UpdateBodegaCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          },
          "bodegaPadreId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateCategoriaCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateClienteCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "telefono": {
            "type": "string",
            "nullable": true
          },
          "correo": {
            "type": "string",
            "nullable": true
          },
          "direccion": {
            "type": "string",
            "nullable": true
          },
          "nit": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateComboCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          },
          "precioTotal": {
            "type": "number",
            "format": "double"
          },
          "productos": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ComboProductoDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateProductoCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "categoriaId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "bodegaId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "precioPublico": {
            "type": "number",
            "format": "double"
          },
          "costoUnitario": {
            "type": "number",
            "format": "double"
          },
          "unidadMedida": {
            "type": "string",
            "nullable": true
          },
          "sePuedeVender": {
            "type": "boolean"
          },
          "sePuedeComprar": {
            "type": "boolean"
          },
          "esFabricado": {
            "type": "boolean"
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          },
          "atributos": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "nullable": true
          },
          "cantidadDisponible": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "UpdateRecetaCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "nombre": {
            "type": "string",
            "nullable": true
          },
          "descripcion": {
            "type": "string",
            "nullable": true
          },
          "detalles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UpdateRecetaDetalleDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateRecetaDetalleDto": {
        "type": "object",
        "properties": {
          "productoIngredienteId": {
            "type": "string",
            "format": "uuid"
          },
          "cantidadRequerida": {
            "type": "number",
            "format": "double"
          },
          "unidadMedida": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateVentaCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "metodoPago": {
            "type": "string",
            "nullable": true
          },
          "notas": {
            "type": "string",
            "nullable": true
          },
          "detalles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UpdateVentaDetalleDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateVentaDetalleDto": {
        "type": "object",
        "properties": {
          "productoId": {
            "type": "string",
            "format": "uuid"
          },
          "cantidad": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      }
    }
  }
}
